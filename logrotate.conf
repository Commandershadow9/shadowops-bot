/home/cmdshadow/shadowops-bot/logs/*.log {
    daily
    rotate 30
    compress
    delaycompress
    missingok
    notifempty
    create 0644 cmdshadow cmdshadow
    dateext
    dateformat -%Y%m%d

    # Post-rotate script to send SIGUSR1 to bot for log file reopening
    postrotate
        # Find the ShadowOps bot process and signal it to reopen log files
        pkill -USR1 -f "shadowops-bot.*bot.py" 2>/dev/null || true
    endscript
}
