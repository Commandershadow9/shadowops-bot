# ShadowOps Discord Bot Configuration
# Kopiere diese Datei zu config.yaml und f√ºlle deine Werte ein

discord:
  # Bot Token vom Discord Developer Portal
  token: "YOUR_BOT_TOKEN_HERE"

  # Deine Discord Server ID (Guild ID)
  # Rechtsklick auf Server ‚Üí ID kopieren (Entwicklermodus muss aktiviert sein)
  guild_id: 123456789012345678

channels:
  # Haupt-Channel f√ºr alle Security-Alerts
  # Wenn spezifische Channels null sind, werden Alerts hierhin gesendet
  security_alerts: 987654321012345678

  # Optional: Separate Channels f√ºr verschiedene Alert-Typen
  # Setze auf null um den Haupt-Channel zu nutzen
  fail2ban: null
  crowdsec: null
  docker_scans: null
  backups: null
  aide: null
  ssh: null

# Projekt-Konfiguration
# Erm√∂glicht Tagging und Filterung von Alerts nach Projekt
projects:
  sicherheitsdienst:
    enabled: true
    tag: "üõ°Ô∏è [SECURITY]"
    color: 0xE74C3C  # Rot

  nexus:
    enabled: true
    tag: "‚ö° [NEXUS]"
    color: 0x3498DB  # Blau

  server:
    enabled: true
    tag: "üñ•Ô∏è [SERVER]"
    color: 0x95A5A6  # Grau

# Alert-Einstellungen
alerts:
  # Minimale Severity f√ºr Alerts: LOW, MEDIUM, HIGH, CRITICAL
  min_severity: "HIGH"

  # Rate Limiting: Sekunden zwischen identischen Alerts (verhindert Spam)
  rate_limit_seconds: 60

  # Mention Rollen bei kritischen Alerts
  mention_roles:
    critical: null  # Discord Role ID f√ºr @mention bei CRITICAL
    high: null      # Discord Role ID f√ºr @mention bei HIGH

# Log-Pfade (normalerweise nicht √§ndern)
log_paths:
  fail2ban: "/var/log/fail2ban/fail2ban.log"
  crowdsec: "/var/log/crowdsec.log"
  crowdsec_api: "/var/log/crowdsec_api.log"
  aide: "/var/log/aide/aideinit.log"
  docker_scans: "/var/log/trivy-scans"
  auth: "journalctl"  # Nutzt journalctl f√ºr SSH-Logs
  backup: "/var/backups/sicherheitsdienst-db"

# Command Permissions
permissions:
  # User IDs die Admin-Commands nutzen d√ºrfen
  admins:
    - 123456789012345678  # Deine Discord User ID

# Bot-Verhalten
bot:
  # Status-Nachricht
  status: "üîí Monitoring Security"

  # Auto-Reconnect bei Verbindungsproblemen
  auto_reconnect: true

  # Debug-Modus (mehr Logs)
  debug: false

# ====================================
# AUTO-REMEDIATION SYSTEM (Event-Driven)
# ====================================
auto_remediation:
  # Aktiviert/Deaktiviert das komplette Auto-Remediation System
  enabled: true  # ‚úÖ System ist bereit!

  # Dry-Run Mode: Nur Simulation, KEINE echten √Ñnderungen
  # Wenn aktiviert, werden alle Commands nur geloggt, aber nicht ausgef√ºhrt
  # EMPFOHLEN beim ersten Start zum Testen!
  dry_run: false  # false = Echte Fixes | true = Nur Simulation

  # Approval Mode: Bestimmt wann Human-Approval erforderlich ist
  # - paranoid: JEDER Fix ben√∂tigt manuelle Freigabe (empfohlen f√ºr Start)
  # - balanced: LOW/MEDIUM werden auto-fixed, HIGH/CRITICAL ben√∂tigen Freigabe
  # - aggressive: Nur CRITICAL ben√∂tigt Freigabe (NUR f√ºr Experten!)
  approval_mode: "paranoid"  # Sicherster Start-Modus

  # Scan Intervals (in Sekunden) - EFFICIENT Mode
  scan_intervals:
    trivy: 21600      # 6 Stunden - Docker Scans sind langsam
    crowdsec: 30      # 30 Sekunden - Aktive Threats schnell erfassen
    fail2ban: 30      # 30 Sekunden - Neue Bans schnell erkennen
    aide: 900         # 15 Minuten - File Integrity moderat wichtig

  # Circuit Breaker: Stoppt System automatisch bei zu vielen Fehlern
  circuit_breaker_threshold: 5      # Nach 5 Failures ‚Üí STOP
  circuit_breaker_timeout: 3600     # Cooldown: 1 Stunde

  # Self-Healing Retry Settings
  max_retry_attempts: 3             # Max. 3 Versuche pro Fix

  # ‚ú® AUTO-CREATE CHANNELS (NEU!)
  # Bot erstellt Discord Channels automatisch beim Start!
  auto_create_channels: true        # Bot erstellt Channels automatisch!

  # Discord Channel-Namen (werden automatisch erstellt)
  channel_names:
    alerts: "ü§ñ-auto-remediation-alerts"
    approvals: "‚úã-auto-remediation-approvals"
    stats: "üìä-auto-remediation-stats"

  # Channel-IDs (werden automatisch gesetzt nach Erstellung)
  notifications:
    alerts_channel: null      # Wird automatisch gesetzt
    approvals_channel: null   # Wird automatisch gesetzt
    stats_channel: null       # Wird automatisch gesetzt

# ====================================
# AI SERVICE CONFIGURATION
# ====================================
# WICHTIG: Trage hier deine API Keys ein!
ai:
  # OpenAI GPT-4 (f√ºr intelligente Fix-Strategie-Generierung)
  openai:
    enabled: false  # Setze auf true nach API Key Eintragung
    api_key: "sk-proj-YOUR_OPENAI_KEY_HERE"  # ‚ö†Ô∏è API KEY HIER EINTRAGEN!
    model: "gpt-4-turbo-preview"

  # Anthropic Claude (Alternative/Zus√§tzlich zu GPT-4)
  anthropic:
    enabled: false  # Setze auf true nach API Key Eintragung
    api_key: "sk-ant-YOUR_ANTHROPIC_KEY_HERE"  # ‚ö†Ô∏è API KEY HIER EINTRAGEN!
    model: "claude-3-opus-20240229"
