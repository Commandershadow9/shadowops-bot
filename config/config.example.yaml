# ShadowOps Discord Bot Configuration
# Kopiere diese Datei zu config.yaml und f√ºlle deine Werte ein

discord:
  # Bot Token vom Discord Developer Portal
  token: "YOUR_BOT_TOKEN_HERE"

  # Deine Discord Server ID (Guild ID)
  # Rechtsklick auf Server ‚Üí ID kopieren (Entwicklermodus muss aktiviert sein)
  guild_id: 123456789012345678

channels:
  # Haupt-Channel f√ºr alle Security-Alerts
  # Wenn spezifische Channels null sind, werden Alerts hierhin gesendet
  security_alerts: 987654321012345678

  # Optional: Separate Channels f√ºr verschiedene Alert-Typen
  # Setze auf null um den Haupt-Channel zu nutzen
  fail2ban: null
  crowdsec: null
  docker_scans: null
  backups: null
  aide: null
  ssh: null

# Projekt-Konfiguration
# Erm√∂glicht Tagging und Filterung von Alerts nach Projekt
projects:
  sicherheitsdienst:
    enabled: true
    tag: "üõ°Ô∏è [SECURITY]"
    color: 0xE74C3C  # Rot

  nexus:
    enabled: true
    tag: "‚ö° [NEXUS]"
    color: 0x3498DB  # Blau

  server:
    enabled: true
    tag: "üñ•Ô∏è [SERVER]"
    color: 0x95A5A6  # Grau

# Alert-Einstellungen
alerts:
  # Minimale Severity f√ºr Alerts: LOW, MEDIUM, HIGH, CRITICAL
  min_severity: "HIGH"

  # Rate Limiting: Sekunden zwischen identischen Alerts (verhindert Spam)
  rate_limit_seconds: 60

  # Mention Rollen bei kritischen Alerts
  mention_roles:
    critical: null  # Discord Role ID f√ºr @mention bei CRITICAL
    high: null      # Discord Role ID f√ºr @mention bei HIGH

# Log-Pfade (normalerweise nicht √§ndern)
log_paths:
  fail2ban: "/var/log/fail2ban/fail2ban.log"
  crowdsec: "/var/log/crowdsec.log"
  crowdsec_api: "/var/log/crowdsec_api.log"
  aide: "/var/log/aide/aideinit.log"
  docker_scans: "/var/log/trivy-scans"
  auth: "journalctl"  # Nutzt journalctl f√ºr SSH-Logs
  backup: "/var/backups/sicherheitsdienst-db"

# Command Permissions
permissions:
  # User IDs die Admin-Commands nutzen d√ºrfen
  admins:
    - 123456789012345678  # Deine Discord User ID

# Bot-Verhalten
bot:
  # Status-Nachricht
  status: "üîí Monitoring Security"

  # Auto-Reconnect bei Verbindungsproblemen
  auto_reconnect: true

  # Debug-Modus (mehr Logs)
  debug: false

# ====================================
# AUTO-REMEDIATION SYSTEM (Event-Driven)
# ====================================
auto_remediation:
  # Aktiviert/Deaktiviert das komplette Auto-Remediation System
  enabled: false  # Setze auf true um Auto-Remediation zu aktivieren

  # Approval Mode: Bestimmt wann Human-Approval erforderlich ist
  # - paranoid: JEDER Fix ben√∂tigt manuelle Freigabe (sicherste Option, empfohlen f√ºr Start)
  # - balanced: LOW/MEDIUM werden auto-fixed, HIGH/CRITICAL ben√∂tigen Freigabe (empfohlen nach Testphase)
  # - aggressive: Nur CRITICAL ben√∂tigt Freigabe, alles andere wird auto-fixed (NUR f√ºr Experten!)
  approval_mode: "paranoid"

  # Scan Intervals (in Sekunden) - EFFICIENT Mode
  # Event-Driven: Verschiedene Intervalle basierend auf Urgency
  scan_intervals:
    trivy: 21600      # 6 Stunden - Docker Scans sind langsam und ressourcenintensiv
    crowdsec: 30      # 30 Sekunden - Aktive Bedrohungen m√ºssen schnell erkannt werden
    fail2ban: 30      # 30 Sekunden - Neue Bans schnell erfassen
    aide: 900         # 15 Minuten - File Integrity Checks sind moderat wichtig

  # Circuit Breaker: Stoppt System automatisch bei zu vielen Fehlern
  circuit_breaker_threshold: 5      # Nach 5 Failures wird System gestoppt
  circuit_breaker_timeout: 3600     # Cooldown: 1 Stunde (3600 Sekunden)

  # Self-Healing Retry Settings
  max_retry_attempts: 3             # Max. 3 Versuche pro Fix

  # Discord Notifications f√ºr Auto-Remediation
  # WICHTIG: Erstelle diese Channels manuell in Discord!
  notifications:
    # Channel f√ºr alle Auto-Fix Alerts (Live-Updates)
    alerts_channel: null            # Discord Channel ID hier eintragen

    # Channel f√ºr Human-Approval Requests
    approvals_channel: null         # Discord Channel ID hier eintragen

    # Channel f√ºr t√§gliche Statistiken
    stats_channel: null             # Discord Channel ID hier eintragen

# AI Service Configuration (optional, f√ºr erweiterte Fixes)
ai:
  # OpenAI GPT-4 (f√ºr intelligente Fix-Strategie-Generierung)
  openai:
    enabled: false
    api_key: "sk-proj-YOUR_OPENAI_KEY_HERE"
    model: "gpt-4-turbo-preview"

  # Anthropic Claude (Alternative/Zus√§tzlich zu GPT-4)
  anthropic:
    enabled: false
    api_key: "sk-ant-YOUR_ANTHROPIC_KEY_HERE"
    model: "claude-3-opus-20240229"
