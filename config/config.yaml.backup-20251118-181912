# ShadowOps Discord Bot Configuration
# UPDATED: 2025-11-18 - Server-Schonung aktiviert!

discord:
  # Bot Token vom Discord Developer Portal
  token: "YOUR_BOT_TOKEN_HERE"  # ‚ö†Ô∏è HIER DEINEN TOKEN EINTRAGEN!

  # Deine Discord Server ID (Guild ID)
  guild_id: 1438065435496157267  # CommanderShadow Dev Server

channels:
  # Haupt-Channel f√ºr alle Security-Alerts
  security_alerts: 1438100552977350717

  # Optional: Separate Channels f√ºr verschiedene Alert-Typen
  fail2ban: null
  crowdsec: null
  docker_scans: null
  backups: null
  aide: null
  ssh: null

# Projekt-Konfiguration
projects:
  sicherheitsdienst:
    enabled: true
    tag: "üõ°Ô∏è [SECURITY]"
    color: 0xE74C3C  # Rot

  nexus:
    enabled: true
    tag: "‚ö° [NEXUS]"
    color: 0x3498DB  # Blau

  server:
    enabled: true
    tag: "üñ•Ô∏è [SERVER]"
    color: 0x95A5A6  # Grau

# Alert-Einstellungen
alerts:
  # Minimale Severity f√ºr Alerts: LOW, MEDIUM, HIGH, CRITICAL
  min_severity: "HIGH"

  # Rate Limiting: Sekunden zwischen identischen Alerts (verhindert Spam)
  rate_limit_seconds: 60

  # Mention Rollen bei kritischen Alerts
  mention_roles:
    critical: null  # Discord Role ID f√ºr @mention bei CRITICAL
    high: null      # Discord Role ID f√ºr @mention bei HIGH

# Log-Pfade
log_paths:
  fail2ban: "/var/log/fail2ban/fail2ban.log"
  crowdsec: "/var/log/crowdsec.log"
  crowdsec_api: "/var/log/crowdsec_api.log"
  aide: "/var/log/aide/aideinit.log"
  docker_scans: "/var/log/trivy-scans"
  auth: "journalctl"
  backup: "/var/backups/sicherheitsdienst-db"

# Command Permissions
permissions:
  # User IDs die Admin-Commands nutzen d√ºrfen
  admins:
    - 123456789012345678  # ‚ö†Ô∏è HIER DEINE DISCORD USER ID!

# Bot-Verhalten
bot:
  status: "üîí Monitoring Security"
  auto_reconnect: true
  debug: false

# ====================================
# AUTO-REMEDIATION SYSTEM (Event-Driven)
# ====================================
auto_remediation:
  # Aktiviert/Deaktiviert das komplette Auto-Remediation System
  enabled: true

  # Dry-Run Mode: Nur Simulation, KEINE echten √Ñnderungen
  dry_run: false  # false = Echte Fixes | true = Nur Simulation

  # Approval Mode: Bestimmt wann Human-Approval erforderlich ist
  # - paranoid: JEDER Fix ben√∂tigt manuelle Freigabe
  # - balanced: LOW/MEDIUM werden auto-fixed, HIGH/CRITICAL ben√∂tigen Freigabe
  # - aggressive: Nur CRITICAL ben√∂tigt Freigabe
  approval_mode: "paranoid"

  # ‚ö° SERVER-SCHONUNG: Reduzierte Scan-Frequenz (NEU!)
  scan_intervals:
    trivy: 21600      # 6 Stunden - Docker Scans sind langsam
    crowdsec: 60      # 60 Sekunden - Aktive Threats (reduziert!)
    fail2ban: 60      # 60 Sekunden - Neue Bans (reduziert!)
    aide: 900         # 15 Minuten - File Integrity

  # Circuit Breaker: Stoppt System automatisch bei zu vielen Fehlern
  circuit_breaker_threshold: 5      # Nach 5 Failures ‚Üí STOP
  circuit_breaker_timeout: 3600     # Cooldown: 1 Stunde

  # Self-Healing Retry Settings
  max_retry_attempts: 3             # Max. 3 Versuche pro Fix

  # ‚ú® AUTO-CREATE CHANNELS
  auto_create_channels: true

  # Discord Channel-Namen (werden automatisch erstellt)
  channel_names:
    alerts: "ü§ñ-auto-remediation-alerts"
    approvals: "‚úã-auto-remediation-approvals"
    stats: "üìä-auto-remediation-stats"
    ai_learning: "üß†-ai-learning"
    code_fixes: "üîß-code-fixes"
    orchestrator: "‚ö°-orchestrator"
    performance: "üìà-performance"

  # Channel-IDs (werden automatisch gesetzt nach Erstellung)
  notifications:
    alerts_channel: null
    approvals_channel: null
    stats_channel: null
    ai_learning_channel: null
    code_fixes_channel: null
    orchestrator_channel: null
    performance_channel: null

# ====================================
# AI SERVICE CONFIGURATION
# ====================================
ai:
  # OpenAI GPT-4 (f√ºr intelligente Fix-Strategie-Generierung)
  openai:
    enabled: false
    api_key: "sk-proj-YOUR_OPENAI_KEY_HERE"
    model: "gpt-4-turbo-preview"

  # Anthropic Claude (Alternative/Zus√§tzlich zu GPT-4)
  anthropic:
    enabled: false
    api_key: "sk-ant-YOUR_ANTHROPIC_KEY_HERE"
    model: "claude-3-opus-20240229"

  # Ollama (Local LLM - PRIMARY, kostenlos und unbegrenzt)
  ollama:
    enabled: true
    url: "http://127.0.0.1:11434"
    model: "phi3:mini"  # Schnelles Modell f√ºr Standard-Events
    model_critical: "llama3.1"  # Intelligentes Modell f√ºr CRITICAL Events
    hybrid_models: true  # Nutze verschiedene Modelle basierend auf Severity
    request_delay_seconds: 4.0  # ‚ö° SERVER-SCHONUNG: 4s Verz√∂gerung zwischen AI-Anfragen (NEU!)
